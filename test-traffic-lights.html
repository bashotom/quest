<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Traffic Lights Test</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
    <div id="test-output"></div>
    
    <script type="module">
        import { RadarMathUtils } from './charts/radar/utils/radar-math-utils.js';
        
        // Test traffic light color calculation
        const testDataPoint = {
            axis: { key: 'A', value: 'gesunde Abgrenzung' },
            value: 25  // 25%
        };
        
        const trafficLightRules = [
            {
                categories: "A,B,C",
                red: 30,
                orange: 60
            },
            {
                categories: "D,E,F",
                green: 30,
                orange: 60
            }
        ];
        
        const color = RadarMathUtils.getTrafficLightColor(testDataPoint, trafficLightRules, 100);
        console.log('Traffic light color for value 25:', color);
        
        // Test different values
        const testCases = [
            { value: 20, expected: 'red' },
            { value: 45, expected: 'orange' },  
            { value: 70, expected: 'green' }
        ];
        
        const results = testCases.map(test => {
            const point = { axis: { key: 'A' }, value: test.value };
            const color = RadarMathUtils.getTrafficLightColor(point, trafficLightRules, 100);
            return `Value ${test.value}%: ${color} (expected ${test.expected})`;
        });
        
        document.getElementById('test-output').innerHTML = `
            <h2>Traffic Light Color Tests</h2>
            <pre>${results.join('\n')}</pre>
        `;
        
        console.log('Test results:', results);
    </script>
</body>
</html>